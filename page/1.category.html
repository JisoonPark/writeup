---
layout: default
title: Categories
permalink: /category/
type: page
---

<div class="page clearfix">
  <div class="left">
    <h1>{{page.title}}</h1>
    <hr>
    <ul>
      {% for category in site.categories %}
      <h2 id="{{category | first}}">{{category | first}}</h2>
      {% for posts in category %}
      {% for post in posts %}
      {% if post.url %}
      <li>
        <time>
          {{ post.date | date:"%F" }} {{ post.date | date: "%a" }}.
        </time>
        <a class="title" href="{{ post.url | prepend: site.url }}">{{ post.title }}</a>
      </li>
      {% endif %}
      {% endfor %}
      {% endfor %}
      {% endfor %}
    </ul>
    <div id="tree"></div>
  </div>
</div>


<script>
  var tree = [
    {% for category in site.categories %}{
      text: "{{category | first}}",
      nodes: [
        {% for posts in category %}
          {% for post in posts %}
            {% if post.url %}
            {
              text: "<time>{{ post.date | date:"%F" }} {{ post.date | date: "%a" }}.</time>&nbsp;&nbsp;{{ post.title }}",
              href: "{{ post.url | prepend: site.url }}"
            },
            {% endif %}
          {% endfor %}
        {% endfor %}
      ]
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]

  $('#tree').treeview({
    data: tree,
    showBorder: false,
    enableLinks: true
  });
</script>
